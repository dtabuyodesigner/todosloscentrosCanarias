<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Directorio Avanzado de Centros Educativos - Canarias</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .sortable:hover { background-color: #f0f4f8; cursor: pointer; }
        .sort-asc::after { content: ' ▲'; font-size: 0.8em; }
        .sort-desc::after { content: ' ▼'; font-size: 0.8em; }
        #modal-backdrop { background-color: rgba(0,0,0,0.5); }
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); }
        .modal-leave-active { opacity: 0; transform: scale(0.95); }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen">

    <div class="container mx-auto p-4 md:p-8 flex-grow">
        <header class="bg-white shadow-md rounded-xl p-6 mb-8 text-center">
            <h1 class="text-4xl font-bold text-blue-700">Directorio Avanzado de Centros Educativos</h1>
            <p class="text-gray-500 mt-2">Canarias</p>
        </header>

        <div class="bg-white shadow-md rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold mb-4 text-gray-700">Controles de Búsqueda</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <input type="text" id="search-input" placeholder="Buscar por nombre o código..." class="lg:col-span-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                <select id="filter-isla" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="all">Todas las Islas</option>
                </select>
                <select id="filter-municipio" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" disabled>
                    <option value="all">Todos los Municipios</option>
                </select>
                <select id="filter-zona" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" disabled>
                    <option value="all">Todas las Zonas</option>
                </select>
            </div>
        </div>

        <div class="bg-white shadow-md rounded-xl overflow-hidden">
            <div class="p-4 flex justify-between items-center border-b">
                 <p id="results-count" class="text-gray-600"></p>
                 <div class="flex items-center space-x-2">
                    <label for="rows-per-page" class="text-sm">Filas:</label>
                    <select id="rows-per-page" class="p-1 border border-gray-300 rounded-lg">
                        <option value="10">10</option>
                        <option value="25" selected>25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left">
                    <thead class="bg-gray-50 text-xs text-gray-700 uppercase">
                        <tr>
                            <th class="p-4 sortable" data-column="Denominacion">Denominación</th>
                            <th class="p-4 sortable" data-column="Municipio">Municipio</th>
                            <th class="p-4 sortable" data-column="Isla">Isla</th>
                            <th class="p-4 sortable" data-column="distancia_aeropuerto_km">Distancia Aerop.</th>
                            <th class="p-4">Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <!-- Filas de datos generadas por JS -->
                    </tbody>
                </table>
            </div>
            <div id="pagination-controls" class="p-4 flex justify-center items-center space-x-4">
                <!-- Controles de paginación generados por JS -->
            </div>
        </div>
    </div>
    
    <!-- Modal para detalles del centro -->
    <div id="modal" class="fixed inset-0 z-50 hidden items-center justify-center transition-opacity duration-300">
        <div id="modal-backdrop" class="fixed inset-0 bg-black opacity-50"></div>
        <div id="modal-content" class="bg-white rounded-lg shadow-2xl z-10 w-11/12 md:w-1/2 max-w-2xl transform transition-all duration-300 scale-95 opacity-0">
            <div class="p-6 border-b flex justify-between items-center">
                <h2 id="modal-title" class="text-2xl font-bold text-gray-800"></h2>
                <button id="modal-close-btn" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
            </div>
            <div id="modal-body" class="p-6 space-y-4">
                <!-- Detalles del centro generados por JS -->
            </div>
        </div>
    </div>
    
    <footer class="text-center py-4 mt-8">
        <p class="text-sm text-gray-500">Creado por Daniel Tabuyo de las Peñas</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- INICIO DE LA BASE DE DATOS DE CENTROS ---
        // PEGA AQUÍ EL JSON COMPLETO
        const schoolData = [
    {
        "Codigo": "38870102",
        "Denominacion": "AEOI ADEJE",
        "Municipio": "ADEJE",
        "Direccion": "C/ LA CRUZ, 45",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 26
    },
    {
        "Codigo": "38870201",
        "Denominacion": "AEOI CANDELARIA",
        "Municipio": "CANDELARIA",
        "Direccion": "C/ SANTA ANA, 23",
        "Telefono": "922-514037",
        "CorreoElectronico": "38011248@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sureste",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 20
    },
    {
        "Codigo": "35810103",
        "Denominacion": "AEOI CORRALEJO",
        "Municipio": "LA OLIVA",
        "Direccion": "C/ PARALELA A AVDA JUAN CARLOS I S/N",
        "Telefono": "928-530525",
        "CorreoElectronico": "35009450@gobiernodecanarias.org",
        "Isla": "FUERTEVENTURA",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "FUE",
        "distancia_aeropuerto_km": 38
    },
    {
        "Codigo": "35830701",
        "Denominacion": "AEOI GANDO",
        "Municipio": "TELDE",
        "Direccion": "CARRETERA GENERAL DEL SUR, KM.20",
        "Telefono": "928-132682",
        "CorreoElectronico": "35009826@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Este",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 2
    },
    {
        "Codigo": "38870103",
        "Denominacion": "AEOI GRANADILLA DE ABONA",
        "Municipio": "GRANADILLA DE ABONA",
        "Direccion": "C/ BENCHOMO, S/N",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 14
    },
    {
        "Codigo": "35600771",
        "Denominacion": "AEOI GRAN TARAJAL",
        "Municipio": "TUINEJE",
        "Direccion": "DOÑA MARÍA LA MAESTRA, S/N",
        "Telefono": "928-530525",
        "CorreoElectronico": "35009450@gobiernodecanarias.org",
        "Isla": "FUERTEVENTURA",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "FUE",
        "distancia_aeropuerto_km": 46
    },
    {
        "Codigo": "38870101",
        "Denominacion": "AEOI GUÍA DE ISORA",
        "Municipio": "GUÍA DE ISORA",
        "Direccion": "C/ ALTAMAR S/N. PLAYA SAN JUAN",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 38
    },
    {
        "Codigo": "38870501",
        "Denominacion": "AEOI LA LAGUNA",
        "Municipio": "SAN CRISTÓBAL DE LA LAGUNA",
        "Direccion": "C/ RODRÍGUEZ MOURE, 2",
        "Telefono": "922-632281",
        "CorreoElectronico": "38011273@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 3
    },
    {
        "Codigo": "35830801",
        "Denominacion": "AEOI LAS PALMAS DE GRAN CANARIA",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "PASEO DE TOMÁS MORALES, 39",
        "Telefono": "928-266056",
        "CorreoElectronico": "35008381@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 24
    },
    {
        "Codigo": "38870104",
        "Denominacion": "AEOI LOS CRISTIANOS",
        "Municipio": "ARONA",
        "Direccion": "C/ PORTAZGO, 1",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 16
    },
    {
        "Codigo": "35830101",
        "Denominacion": "AEOI MOGÁN",
        "Municipio": "MOGÁN",
        "Direccion": "PLAZA DE LAS MARAÑUELAS, 7",
        "Telefono": "928-141336",
        "CorreoElectronico": "35009735@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 52
    },
    {
        "Codigo": "35810102",
        "Denominacion": "AEOI PUERTO DEL ROSARIO",
        "Municipio": "PUERTO DEL ROSARIO",
        "Direccion": "C/ GRAN CANARIA, 45",
        "Telefono": "928-530525",
        "CorreoElectronico": "35009450@gobiernodecanarias.org",
        "Isla": "FUERTEVENTURA",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "FUE",
        "distancia_aeropuerto_km": 7
    },
    {
        "Codigo": "35600561",
        "Denominacion": "AEOI SAN NICOLÁS",
        "Municipio": "LA ALDEA DE SAN NICOLÁS",
        "Direccion": "AVDA. LOS CARDONES S/N",
        "Telefono": "928-880948 y 928-553588",
        "CorreoElectronico": "35600561@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Oeste",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 85
    },
    {
        "Codigo": "38870801",
        "Denominacion": "AEOI SANTA CRUZ DE TENERIFE",
        "Municipio": "SANTA CRUZ DE TENERIFE",
        "Direccion": "C/ PROLONGACIÓN AREJO, N.º 2",
        "Telefono": "922-283712",
        "CorreoElectronico": "38009916@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "38870601",
        "Denominacion": "AEOI SANTA ÚRSULA",
        "Municipio": "SANTA ÚRSULA",
        "Direccion": "C/ ALCALDE DOMINGO GUTIÉRREZ, N.º 1",
        "Telefono": "922-322977",
        "CorreoElectronico": "38011285@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 21
    },
    {
        "Codigo": "38870502",
        "Denominacion": "AEOI TACORONTE",
        "Municipio": "TACORONTE",
        "Direccion": "CASA DE LA CULTURA, PLAZA DEL CRISTO S/N",
        "Telefono": "922-632281",
        "CorreoElectronico": "38011273@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "35830201",
        "Denominacion": "AEOI TEROR",
        "Municipio": "TEROR",
        "Direccion": "C/ JOSÉ MIRANDA GUERRA, 3",
        "Telefono": "928-622249",
        "CorreoElectronico": "35009772@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 35
    },
    {
        "Codigo": "35820101",
        "Denominacion": "AEOI TÍAS",
        "Municipio": "TÍAS",
        "Direccion": "C/ EL FONDEADERO S/N",
        "Telefono": "928-805806",
        "CorreoElectronico": "35009723@gobiernodecanarias.org",
        "Isla": "LANZAROTE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "ACE",
        "distancia_aeropuerto_km": 9
    },
    {
        "Codigo": "35830702",
        "Denominacion": "AEOI VALSEQUILLO",
        "Municipio": "VALSEQUILLO DE GRAN CANARIA",
        "Direccion": "C/ MAESTRO JOSÉ SANTANA, 4",
        "Telefono": "928-132682",
        "CorreoElectronico": "35009826@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 20
    },
    {
        "Codigo": "35820102",
        "Denominacion": "AEOI YAIZA",
        "Municipio": "YAIZA",
        "Direccion": "AVDA. FARO DE PECHIGUERA, S/N",
        "Telefono": "",
        "CorreoElectronico": "",
        "Isla": "LANZAROTE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "ACE",
        "distancia_aeropuerto_km": 28
    },
    {
        "Codigo": "35008536",
        "Denominacion": "CEAD PROFESOR FÉLIX PÉREZ PARRILLA",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "C/ DOCTOR GARCÍA CASTRILLO, 22",
        "Telefono": "928-245743 y 928-290345",
        "CorreoElectronico": "35008536@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 23
    },
    {
        "Codigo": "38010141",
        "Denominacion": "CEAD SANTA CRUZ DE TENERIFE MERCEDES PINTO",
        "Municipio": "SANTA CRUZ DE TENERIFE",
        "Direccion": "C/ PEDRO SUÁREZ HDEZ., S/N",
        "Telefono": "922-475538 y 922-475541",
        "CorreoElectronico": "38010141@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 11
    },

    {
        "Codigo": "38870102",
        "Denominacion": "AEOI ADEJE",
        "Municipio": "ADEJE",
        "Direccion": "C/ LA CRUZ, 45",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 26
    },
    {
        "Codigo": "38870201",
        "Denominacion": "AEOI CANDELARIA",
        "Municipio": "CANDELARIA",
        "Direccion": "C/ SANTA ANA, 23",
        "Telefono": "922-514037",
        "CorreoElectronico": "38011248@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sureste",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 20
    },
    {
        "Codigo": "35810103",
        "Denominacion": "AEOI CORRALEJO",
        "Municipio": "LA OLIVA",
        "Direccion": "C/ PARALELA A AVDA JUAN CARLOS I S/N",
        "Telefono": "928-530525",
        "CorreoElectronico": "35009450@gobiernodecanarias.org",
        "Isla": "FUERTEVENTURA",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "FUE",
        "distancia_aeropuerto_km": 38
    },
    {
        "Codigo": "35830701",
        "Denominacion": "AEOI GANDO",
        "Municipio": "TELDE",
        "Direccion": "CARRETERA GENERAL DEL SUR, KM.20",
        "Telefono": "928-132682",
        "CorreoElectronico": "35009826@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Este",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 2
    },
    {
        "Codigo": "38870103",
        "Denominacion": "AEOI GRANADILLA DE ABONA",
        "Municipio": "GRANADILLA DE ABONA",
        "Direccion": "C/ BENCHOMO, S/N",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 14
    },
    {
        "Codigo": "35600771",
        "Denominacion": "AEOI GRAN TARAJAL",
        "Municipio": "TUINEJE",
        "Direccion": "DOÑA MARÍA LA MAESTRA, S/N",
        "Telefono": "928-530525",
        "CorreoElectronico": "35009450@gobiernodecanarias.org",
        "Isla": "FUERTEVENTURA",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "FUE",
        "distancia_aeropuerto_km": 46
    },
    {
        "Codigo": "38870101",
        "Denominacion": "AEOI GUÍA DE ISORA",
        "Municipio": "GUÍA DE ISORA",
        "Direccion": "C/ ALTAMAR S/N. PLAYA SAN JUAN",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 38
    },
    {
        "Codigo": "38870501",
        "Denominacion": "AEOI LA LAGUNA",
        "Municipio": "SAN CRISTÓBAL DE LA LAGUNA",
        "Direccion": "C/ RODRÍGUEZ MOURE, 2",
        "Telefono": "922-632281",
        "CorreoElectronico": "38011273@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 3
    },
    {
        "Codigo": "35830801",
        "Denominacion": "AEOI LAS PALMAS DE GRAN CANARIA",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "PASEO DE TOMÁS MORALES, 39",
        "Telefono": "928-266056",
        "CorreoElectronico": "35008381@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 24
    },
    {
        "Codigo": "38870104",
        "Denominacion": "AEOI LOS CRISTIANOS",
        "Municipio": "ARONA",
        "Direccion": "C/ PORTAZGO, 1",
        "Telefono": "922-592096",
        "CorreoElectronico": "38011169@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 16
    },
    {
        "Codigo": "35830101",
        "Denominacion": "AEOI MOGÁN",
        "Municipio": "MOGÁN",
        "Direccion": "PLAZA DE LAS MARAÑUELAS, 7",
        "Telefono": "928-141336",
        "CorreoElectronico": "35009735@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 52
    },
    {
        "Codigo": "35810102",
        "Denominacion": "AEOI PUERTO DEL ROSARIO",
        "Municipio": "PUERTO DEL ROSARIO",
        "Direccion": "C/ GRAN CANARIA, 45",
        "Telefono": "928-530525",
        "CorreoElectronico": "35009450@gobiernodecanarias.org",
        "Isla": "FUERTEVENTURA",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "FUE",
        "distancia_aeropuerto_km": 7
    },
    {
        "Codigo": "35600561",
        "Denominacion": "AEOI SAN NICOLÁS",
        "Municipio": "LA ALDEA DE SAN NICOLÁS",
        "Direccion": "AVDA. LOS CARDONES S/N",
        "Telefono": "928-880948 y 928-553588",
        "CorreoElectronico": "35600561@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Oeste",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 85
    },
    {
        "Codigo": "38870801",
        "Denominacion": "AEOI SANTA CRUZ DE TENERIFE",
        "Municipio": "SANTA CRUZ DE TENERIFE",
        "Direccion": "C/ PROLONGACIÓN AREJO, N.º 2",
        "Telefono": "922-283712",
        "CorreoElectronico": "38009916@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "38870601",
        "Denominacion": "AEOI SANTA ÚRSULA",
        "Municipio": "SANTA ÚRSULA",
        "Direccion": "C/ ALCALDE DOMINGO GUTIÉRREZ, N.º 1",
        "Telefono": "922-322977",
        "CorreoElectronico": "38011285@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 21
    },
    {
        "Codigo": "38870502",
        "Denominacion": "AEOI TACORONTE",
        "Municipio": "TACORONTE",
        "Direccion": "CASA DE LA CULTURA, PLAZA DEL CRISTO S/N",
        "Telefono": "922-632281",
        "CorreoElectronico": "38011273@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "35830201",
        "Denominacion": "AEOI TEROR",
        "Municipio": "TEROR",
        "Direccion": "C/ JOSÉ MIRANDA GUERRA, 3",
        "Telefono": "928-622249",
        "CorreoElectronico": "35009772@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 35
    },
    {
        "Codigo": "35820101",
        "Denominacion": "AEOI TÍAS",
        "Municipio": "TÍAS",
        "Direccion": "C/ EL FONDEADERO S/N",
        "Telefono": "928-805806",
        "CorreoElectronico": "35009723@gobiernodecanarias.org",
        "Isla": "LANZAROTE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "ACE",
        "distancia_aeropuerto_km": 9
    },
    {
        "Codigo": "35830702",
        "Denominacion": "AEOI VALSEQUILLO",
        "Municipio": "VALSEQUILLO DE GRAN CANARIA",
        "Direccion": "C/ MAESTRO JOSÉ SANTANA, 4",
        "Telefono": "928-132682",
        "CorreoElectronico": "35009826@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 20
    },
    {
        "Codigo": "35820102",
        "Denominacion": "AEOI YAIZA",
        "Municipio": "YAIZA",
        "Direccion": "AVDA. FARO DE PECHIGUERA, S/N",
        "Telefono": "",
        "CorreoElectronico": "",
        "Isla": "LANZAROTE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "ACE",
        "distancia_aeropuerto_km": 28
    },
    {
        "Codigo": "35008536",
        "Denominacion": "CEAD PROFESOR FÉLIX PÉREZ PARRILLA",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "C/ DOCTOR GARCÍA CASTRILLO, 22",
        "Telefono": "928-245743 y 928-290345",
        "CorreoElectronico": "35008536@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 23
    },
    {
        "Codigo": "38010141",
        "Denominacion": "CEAD SANTA CRUZ DE TENERIFE MERCEDES PINTO",
        "Municipio": "SANTA CRUZ DE TENERIFE",
        "Direccion": "C/ PEDRO SUÁREZ HDEZ., S/N",
        "Telefono": "922-475538 y 922-475541",
        "CorreoElectronico": "38010141@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 11
    },
    {
        "Codigo": "38015230",
        "Denominacion": "CEE ADEJE",
        "Municipio": "SAN MIGUEL DE ABONA",
        "Direccion": "C/ PIZARRO, 5",
        "Telefono": "922-592412 y 922-592413",
        "CorreoElectronico": "38015230@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "38009311",
        "Denominacion": "CEE CHACONA",
        "Municipio": "GÜÍMAR",
        "Direccion": "C/ HONDURAS, 55",
        "Telefono": "922-760288",
        "CorreoElectronico": "38009311@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sureste",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 28
    },
    {
        "Codigo": "38009345",
        "Denominacion": "CEE EL DORADOR",
        "Municipio": "SANTA CRUZ DE LA PALMA",
        "Direccion": "C/ LOMO ESPANTA, 39 (MIRCA)",
        "Telefono": "922-592121",
        "CorreoElectronico": "38009345@gobiernodecanarias.org",
        "Isla": "LA PALMA",
        "Naturaleza": "Público",
        "Zona": "Este",
        "aeropuerto": "SPC",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "38017652",
        "Denominacion": "CEE EN ADEJE",
        "Municipio": "ADEJE",
        "Direccion": "C/ El VALITO, 10",
        "Telefono": "",
        "CorreoElectronico": "",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 26
    },
    {
        "Codigo": "38017640",
        "Denominacion": "CEE EN ICOD DE LOS VINOS",
        "Municipio": "ICOD DE LOS VINOS",
        "Direccion": "ELÍAS SERRA RAFOLS, 13 (EL PAREDÓN)",
        "Telefono": "922-478965",
        "CorreoElectronico": "38017640@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Noroeste",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 50
    },
    {
        "Codigo": "35015942",
        "Denominacion": "CEE EN SAN BARTOLOMÉ DE TIRAJANA",
        "Municipio": "SAN BARTOLOMÉ DE TIRAJANA",
        "Direccion": "C/ EL PEDRAZO, 1",
        "Telefono": "928-499577",
        "CorreoElectronico": "35015942@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 32
    },
    {
        "Codigo": "35015991",
        "Denominacion": "CEE EN SANTA LUCÍA DE TIRAJANA",
        "Municipio": "SANTA LUCÍA DE TIRAJANA",
        "Direccion": "C/ NÉSTOR DE LA TORRE, 7",
        "Telefono": "928-577869",
        "CorreoElectronico": "35015991@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Sureste",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 16
    },
    {
        "Codigo": "38006231",
        "Denominacion": "CEE HERMANO PEDRO",
        "Municipio": "SANTA CRUZ DE TENERIFE",
        "Direccion": "C/ GARA Y JONAY, 1",
        "Telefono": "922-477266",
        "CorreoElectronico": "38006231@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 11
    },
    {
        "Codigo": "38010581",
        "Denominacion": "CEE INÉS FUENTES Y GONZÁLEZ DE ALEDO",
        "Municipio": "PUERTO DE LA CRUZ",
        "Direccion": "AVDA. ARCHIPIÉLAGO CANARIO, 12 - LA VERA",
        "Telefono": "922-474060",
        "CorreoElectronico": "38010581@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 26
    },
    {
        "Codigo": "35008652",
        "Denominacion": "CEE MARENTE",
        "Municipio": "SANTA MARÍA DE GUÍA DE GRAN CANARIA",
        "Direccion": "URB. MARENTE, S/N",
        "Telefono": "928-303130",
        "CorreoElectronico": "35008652@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 47
    },
    {
        "Codigo": "35009103",
        "Denominacion": "CEE NUESTRA SEÑORA DE LOS VOLCANES",
        "Municipio": "TEGUISE",
        "Direccion": "C/ ARCIPRESTE DE HITA S/N",
        "Telefono": "928-802211",
        "CorreoElectronico": "35009103@gobiernodecanarias.org",
        "Isla": "LANZAROTE",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "ACE",
        "distancia_aeropuerto_km": 22
    },
    {
        "Codigo": "35008664",
        "Denominacion": "CEE PETRA LORENZO",
        "Municipio": "TELDE",
        "Direccion": "CRUZ DE JEREZ, 2",
        "Telefono": "928-599205",
        "CorreoElectronico": "35008664@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Este",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "35008640",
        "Denominacion": "CEE PUERTO DEL ROSARIO",
        "Municipio": "PUERTO DEL ROSARIO",
        "Direccion": "PAREDONES (MAJADA MARCIAL)",
        "Telefono": "928-211291",
        "CorreoElectronico": "35008640@gobiernodecanarias.org",
        "Isla": "FUERTEVENTURA",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "FUE",
        "distancia_aeropuerto_km": 6
    },
    {
        "Codigo": "35001475",
        "Denominacion": "CEE ROMÁN PÉREZ DÉNIZ",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "C/ VELÁZQUEZ, 11",
        "Telefono": "928-724785",
        "CorreoElectronico": "35001475@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 25
    },
    {
        "Codigo": "35013696",
        "Denominacion": "CEE SIETE PALMAS",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "AVDA. DE LA FERIA, 3",
        "Telefono": "928-599218",
        "CorreoElectronico": "35013696@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 22
    },
    {
        "Codigo": "38008560",
        "Denominacion": "CEIP ABONA",
        "Municipio": "GRANADILLA DE ABONA",
        "Direccion": "C/ LA OROTAVA, 10",
        "Telefono": "922-391681",
        "CorreoElectronico": "38008560@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sur",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 14
    },
    {
        "Codigo": "38003392",
        "Denominacion": "CEIP ACENTEJO",
        "Municipio": "LA MATANZA DE ACENTEJO",
        "Direccion": "C/ LAS LIMERAS, 64",
        "Telefono": "922-951092 y 922-951093",
        "CorreoElectronico": "38003392@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 15
    },
    {
        "Codigo": "38003756",
        "Denominacion": "CEIP ADAMANCASIS",
        "Municipio": "EL PASO",
        "Direccion": "AVDA. ISLAS CANARIAS, 40",
        "Telefono": "922-474963",
        "CorreoElectronico": "38003756@gobiernodecanarias.org",
        "Isla": "LA PALMA",
        "Naturaleza": "Público",
        "Zona": "Oeste",
        "aeropuerto": "SPC",
        "distancia_aeropuerto_km": 26
    },
    {
        "Codigo": "35005420",
        "Denominacion": "CEIP ADÁN DEL CASTILLO",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "PASEO DE LOS MÁRTIRES, 4",
        "Telefono": "928-304078",
        "CorreoElectronico": "35005420@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 23
    },
    {
        "Codigo": "38000019",
        "Denominacion": "CEIP ADEJE",
        "Municipio": "ADEJE",
        "Direccion": "C/ MANUEL BELLO RAMOS, 14",
        "Telefono": "922-478763",
        "CorreoElectronico": "38000019@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 26
    },
    {
        "Codigo": "35003459",
        "Denominacion": "CEIP ADELA SANTANA",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "CALLE LAS MAGNOLIAS, 12",
        "Telefono": "928-304417",
        "CorreoElectronico": "35003459@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 20
    },
    {
        "Codigo": "35000239",
        "Denominacion": "CEIP ADOLFO TOPHAM",
        "Municipio": "ARRECIFE",
        "Direccion": "C/ DOCTOR GÓMEZ ULLA, 71",
        "Telefono": "928-306888",
        "CorreoElectronico": "35000239@gobiernodecanarias.org",
        "Isla": "LANZAROTE",
        "Naturaleza": "Público",
        "Zona": "Centro",
        "aeropuerto": "ACE",
        "distancia_aeropuerto_km": 7
    },
    {
        "Codigo": "38008377",
        "Denominacion": "CEIP ADORACIÓN RODRÍGUEZ ALONSO",
        "Municipio": "GUÍA DE ISORA",
        "Direccion": "AVENIDA ALTAMAR, S/N",
        "Telefono": "922-923438",
        "CorreoElectronico": "38008377@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Suroeste",
        "aeropuerto": "TFS",
        "distancia_aeropuerto_km": 38
    },
    {
        "Codigo": "38010554",
        "Denominacion": "CEIP AGACHE",
        "Municipio": "GÜÍMAR",
        "Direccion": "C/ OCTAVIO RODRÍGUEZ DELGADO, 6",
        "Telefono": "922-760860",
        "CorreoElectronico": "38010554@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Sureste",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 28
    },
    {
        "Codigo": "38005327",
        "Denominacion": "CEIP ÁGORA",
        "Municipio": "SANTA CRUZ DE TENERIFE",
        "Direccion": "C/ MARRERO TORRES, 2",
        "Telefono": "922-476963",
        "CorreoElectronico": "38005327@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 9
    },
    {
        "Codigo": "35008721",
        "Denominacion": "CEIP AGUADULCE",
        "Municipio": "LAS PALMAS DE GRAN CANARIA",
        "Direccion": "C/ MOLINO DE VIENTO, 18",
        "Telefono": "928-599212",
        "CorreoElectronico": "35008721@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 20
    },
    {
        "Codigo": "38010888",
        "Denominacion": "CEIP AGUAMANSA",
        "Municipio": "LA OROTAVA",
        "Direccion": "C/ EL VELO, S/N",
        "Telefono": "922-479466",
        "CorreoElectronico": "38010888@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 30
    },
    {
        "Codigo": "35000768",
        "Denominacion": "CEIP AGUATONA",
        "Municipio": "INGENIO",
        "Direccion": "C/ GADIFER DE LA SALLE, S/N",
        "Telefono": "928-303099",
        "CorreoElectronico": "35000768@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Este",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 10
    },
    {
        "Codigo": "38008705",
        "Denominacion": "CEIP AGUERE",
        "Municipio": "SAN CRISTÓBAL DE LA LAGUNA",
        "Direccion": "C/ HENRY DUNNANT. P. ANCHIETA",
        "Telefono": "922-592260",
        "CorreoElectronico": "38008705@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Metropolitana",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 3
    },
    {
        "Codigo": "38004301",
        "Denominacion": "CEIP AGUSTÍN ESPINOSA",
        "Municipio": "LOS REALEJOS",
        "Direccion": "C/ LA UNIÓN, 20",
        "Telefono": "922-760255",
        "CorreoElectronico": "38004301@gobiernodecanarias.org",
        "Isla": "TENERIFE",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "TFN",
        "distancia_aeropuerto_km": 36
    },
    {
        "Codigo": "35000914",
        "Denominacion": "CEIP AGUSTÍN HERNÁNDEZ DÍAZ",
        "Municipio": "MOYA",
        "Direccion": "C/ SECRETARIO JUAN GONZÁLEZ LEÓN, 7",
        "Telefono": "928-303355",
        "CorreoElectronico": "35000914@gobiernodecanarias.org",
        "Isla": "GRAN CANARIA",
        "Naturaleza": "Público",
        "Zona": "Norte",
        "aeropuerto": "LPA",
        "distancia_aeropuerto_km": 47
    }


]
;
        // --- FIN DE LA BASE DE DATOS DE CENTROS ---

        let currentPage = 1;
        let rowsPerPage = 25;
        let filteredData = [...schoolData];
        let sortColumn = 'distancia_aeropuerto_km';
        let sortDirection = 'asc';

        const searchInput = document.getElementById('search-input');
        const filterIsla = document.getElementById('filter-isla');
        const filterMunicipio = document.getElementById('filter-municipio');
        const filterZona = document.getElementById('filter-zona');
        const tableBody = document.getElementById('table-body');
        const paginationControls = document.getElementById('pagination-controls');
        const rowsPerPageSelect = document.getElementById('rows-per-page');
        const resultsCount = document.getElementById('results-count');
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalCloseBtn = document.getElementById('modal-close-btn');

        function initialize() {
            populateFilters();
            addEventListeners();
            sortData(sortColumn, true); 
        }

        function populateFilters() {
            const islas = [...new Set(schoolData.map(item => item.Isla))].sort();
            islas.forEach(isla => filterIsla.add(new Option(isla, isla)));
        }

        function updateDependentFilters() {
            const selectedIsla = filterIsla.value;
            
            filterMunicipio.innerHTML = '<option value="all">Todos los Municipios</option>';
            if (selectedIsla !== 'all') {
                filterMunicipio.disabled = false;
                const municipios = [...new Set(schoolData.filter(item => item.Isla === selectedIsla).map(item => item.Municipio))].sort();
                municipios.forEach(m => filterMunicipio.add(new Option(m,m)));
            } else {
                filterMunicipio.disabled = true;
            }

            filterZona.innerHTML = '<option value="all">Todas las Zonas</option>';
            if (selectedIsla !== 'all') {
                 filterZona.disabled = false;
                 const zonas = [...new Set(schoolData.filter(item => item.Isla === selectedIsla).map(item => item.Zona))].sort();
                 zonas.forEach(z => filterZona.add(new Option(z,z)));
            } else {
                 filterZona.disabled = true;
            }
        }

        function applyAllFilters() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedIsla = filterIsla.value;
            const selectedMunicipio = filterMunicipio.value;
            const selectedZona = filterZona.value;

            filteredData = schoolData.filter(item => {
                const searchMatch = (item.Denominacion.toLowerCase().includes(searchTerm) || item.Codigo.toLowerCase().includes(searchTerm));
                const islaMatch = (selectedIsla === 'all' || item.Isla === selectedIsla);
                const municipioMatch = (selectedMunicipio === 'all' || item.Municipio === selectedMunicipio);
                const zonaMatch = (selectedZona === 'all' || item.Zona === selectedZona);
                return searchMatch && islaMatch && municipioMatch && zonaMatch;
            });
            
            currentPage = 1;
            sortData(sortColumn, false); 
        }

        function sortData(column, isInitialSort = false) {
            if (!isInitialSort) {
                if (sortColumn === column) {
                    sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
                } else {
                    sortColumn = column;
                    sortDirection = 'asc';
                }
            }
            
            filteredData.sort((a, b) => {
                const valA = a[column];
                const valB = b[column];

                if (!isNaN(valA) && !isNaN(valB)) {
                    return sortDirection === 'asc' ? valA - valB : valB - valA;
                }
                
                const strA = String(valA).toLowerCase();
                const strB = String(valB).toLowerCase();

                if (strA < strB) return sortDirection === 'asc' ? -1 : 1;
                if (strA > strB) return sortDirection === 'asc' ? 1 : -1;
                return 0;
            });

            renderTable();
        }

        function renderTable() {
            tableBody.innerHTML = '';
            const start = (currentPage - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const paginatedData = filteredData.slice(start, end);

            paginatedData.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'bg-white border-b hover:bg-gray-50';
                row.innerHTML = `
                    <td class="p-4 font-medium text-gray-900">${item.Denominacion}</td>
                    <td class="p-4">${item.Municipio} (${item.Zona})</td>
                    <td class="p-4">${item.Isla}</td>
                    <td class="p-4 text-center">${item.distancia_aeropuerto_km} km</td>
                    <td class="p-4">
                        <button class="view-details-btn font-medium text-blue-600 hover:underline" data-id="${item.Codigo}">Ver Detalles</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
            
            updateResultsCount();
            renderPagination();
            updateSortHeaders();
        }
        
        function updateResultsCount() {
            resultsCount.textContent = `Mostrando ${filteredData.length} de ${schoolData.length} resultados.`;
        }

        function renderPagination() {
            paginationControls.innerHTML = '';
            const totalPages = Math.ceil(filteredData.length / rowsPerPage);

            if (totalPages <= 1) return;

            const prevButton = document.createElement('button');
            prevButton.textContent = 'Anterior';
            prevButton.disabled = currentPage === 1;
            prevButton.className = 'px-3 py-1 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 hover:bg-gray-300';
            prevButton.addEventListener('click', () => { currentPage--; renderTable(); });
            paginationControls.appendChild(prevButton);

            const pageIndicator = document.createElement('span');
            pageIndicator.textContent = `Página ${currentPage} de ${totalPages}`;
            pageIndicator.className = 'text-sm text-gray-700';
            paginationControls.appendChild(pageIndicator);
            
            const nextButton = document.createElement('button');
            nextButton.textContent = 'Siguiente';
            nextButton.disabled = currentPage === totalPages;
            nextButton.className = 'px-3 py-1 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed bg-gray-200 hover:bg-gray-300';
            nextButton.addEventListener('click', () => { currentPage++; renderTable(); });
            paginationControls.appendChild(nextButton);
        }
        
        function updateSortHeaders() {
            document.querySelectorAll('.sortable').forEach(header => {
                header.classList.remove('sort-asc', 'sort-desc');
                if (header.dataset.column === sortColumn) {
                    header.classList.add(sortDirection === 'asc' ? 'sort-asc' : 'sort-desc');
                }
            });
        }
        
        function showModal(codigo) {
            const center = schoolData.find(c => c.Codigo === codigo);
            if (!center) return;

            document.getElementById('modal-title').textContent = center.Denominacion;
            document.getElementById('modal-body').innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700">
                    <p><strong>Código:</strong> ${center.Codigo}</p>
                    <p><strong>Naturaleza:</strong> ${center.Naturaleza}</p>
                    <p><strong>Isla:</strong> ${center.Isla}</p>
                    <p><strong>Zona:</strong> ${center.Zona || 'N/D'}</p>
                    <p class="md:col-span-2"><strong>Municipio:</strong> ${center.Municipio}</p>
                    <p class="md:col-span-2"><strong>Dirección:</strong> ${center.Direccion}</p>
                    <p><strong>Teléfono:</strong> ${center.Telefono || 'No disponible'}</p>
                    <p><strong>Email:</strong> ${center.CorreoElectronico || 'No disponible'}</p>
                    <p class="md:col-span-2"><strong>Aeropuerto cercano:</strong> ${center.aeropuerto || 'N/D'} (~${center.distancia_aeropuerto_km || '?'} km)</p>
                </div>
                <div class="mt-6 flex flex-wrap gap-2">
                    <button onclick="copyToClipboard('${center.Telefono}')" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">Copiar Teléfono</button>
                    <button onclick="copyToClipboard('${center.CorreoElectronico}')" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">Copiar Email</button>
                    <a href="https://www.google.com/maps?q=${encodeURIComponent(center.Direccion + ', ' + center.Municipio)}" target="_blank" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded">Ver en Mapa</a>
                </div>
            `;
            
            modal.classList.remove('hidden');
            modalContent.classList.remove('opacity-0', 'scale-95');
        }
        
        function hideModal() {
            modalContent.classList.add('opacity-0', 'scale-95');
            setTimeout(() => modal.classList.add('hidden'), 200);
        }

        function addEventListeners() {
            searchInput.addEventListener('input', applyAllFilters);
            filterIsla.addEventListener('change', () => {
                updateDependentFilters();
                applyAllFilters();
            });
            filterMunicipio.addEventListener('change', applyAllFilters);
            filterZona.addEventListener('change', applyAllFilters);

            rowsPerPageSelect.addEventListener('change', (e) => {
                rowsPerPage = parseInt(e.target.value, 10);
                currentPage = 1;
                renderTable();
            });
            document.querySelectorAll('.sortable').forEach(header => {
                header.addEventListener('click', () => sortData(header.dataset.column));
            });
            tableBody.addEventListener('click', (e) => {
                const button = e.target.closest('.view-details-btn');
                if (button) {
                    showModal(button.dataset.id);
                }
            });
            modalCloseBtn.addEventListener('click', hideModal);
            modalBackdrop.addEventListener('click', hideModal);
        }
        
        initialize();
    });
    
    // Función global para copiar al portapapeles
    function copyToClipboard(text) {
        if (!text || text === 'No disponible') {
            alert('No hay información para copiar.');
            return;
        }
        
        const tempInput = document.createElement('input');
        tempInput.value = text;
        document.body.appendChild(tempInput);
        tempInput.select();
        try {
            document.execCommand('copy');
            alert('¡Copiado al portapapeles!');
        } catch (err) {
            console.error('Error al copiar: ', err);
            alert('No se pudo copiar.');
        }
        document.body.removeChild(tempInput);
    }
    </script>
</body>
</html>



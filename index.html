<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Directorio Avanzado de Centros Educativos - Canarias</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .sortable:hover { background-color: #f0f4f8; cursor: pointer; }
        .sort-asc::after { content: ' ▲'; font-size: 0.8em; }
        .sort-desc::after { content: ' ▼'; font-size: 0.8em; }
        #modal-backdrop { background-color: rgba(0,0,0,0.5); }
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); }
        .modal-leave-active { opacity: 0; transform: scale(0.95); }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen">

    <div class="container mx-auto p-4 md:p-8 flex-grow">
        <header class="bg-white shadow-md rounded-xl p-6 mb-8 text-center">
            <h1 class="text-4xl font-bold text-blue-700">Directorio Avanzado de Centros Educativos</h1>
            <p class="text-gray-500 mt-2">Canarias</p>
        </header>

        <div class="bg-white shadow-md rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold mb-4 text-gray-700">Controles de Búsqueda</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <input type="text" id="search-input" placeholder="Buscar por nombre o código..." class="lg:col-span-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                <select id="filter-isla" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="all">Todas las Islas</option>
                </select>
                <select id="filter-municipio" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" disabled>
                    <option value="all">Todos los Municipios</option>
                </select>
                <select id="filter-zona" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" disabled>
                    <option value="all">Todas las Zonas</option>
                </select>
            </div>
        </div>

        <div class="bg-white shadow-md rounded-xl overflow-hidden">
            <div class="p-4 flex justify-between items-center border-b">
                 <p id="results-count" class="text-gray-600"></p>
                 <div class="flex items-center space-x-2">
                    <label for="rows-per-page" class="text-sm">Filas:</label>
                    <select id="rows-per-page" class="p-1 border border-gray-300 rounded-lg">
                        <option value="10">10</option>
                        <option value="25" selected>25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left">
                    <thead class="bg-gray-50 text-xs text-gray-700 uppercase">
                        <tr>
                            <th class="p-4 sortable" data-column="Denominacion">Denominación</th>
                            <th class="p-4 sortable" data-column="Municipio">Municipio</th>
                            <th class="p-4 sortable" data-column="Isla">Isla</th>
                            <th class="p-4 sortable" data-column="distancia_aeropuerto_km">Distancia Aerop.</th>
                            <th class="p-4">Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        </tbody>
                </table>
            </div>
            <div id="pagination-controls" class="p-4 flex justify-center items-center space-x-4">
            </div>
        </div>
    </div>
    
    <div id="modal" class="fixed inset-0 z-50 hidden items-center justify-center transition-opacity duration-300">
        <div id="modal-backdrop" class="fixed inset-0 bg-black opacity-50"></div>
        <div id="modal-content" class="bg-white rounded-lg shadow-2xl z-10 w-11/12 md:w-1/2 max-w-2xl transform transition-all duration-300 scale-95 opacity-0">
            <div class="p-6 border-b flex justify-between items-center">
                <h2 id="modal-title" class="text-2xl font-bold text-gray-800"></h2>
                <button id="modal-close-btn" class="text-gray-500 hover:text-gray-800 text-3xl">×</button>
            </div>
            <div id="modal-body" class="p-6 space-y-4">
            </div>
        </div>
    </div>
    
    <footer class="text-center py-4 mt-8">
        <p class="text-sm text-gray-500">Creado por Daniel Tabuyo de las Peñas <img src="https://unavatar.io/github/danitp" alt="Avatar de Daniel Tabuyo" class="inline-block h-6 w-6 rounded-full ml-1 align-middle"></p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- INICIO DE LA BASE DE DATOS DE CENTROS ---
        // CORREGIDO: Se ha normalizado y limpiado completamente la base de datos.
        // Se eliminaron duplicados, se unificaron los nombres de las claves (ej. siempre "Codigo", "Denominacion", "distancia_aeropuerto_km")
        // y se arreglaron todos los errores de sintaxis JSON.
        const schoolData = [
            {
                "Codigo": "38005406",
                "Denominacion": "CEIP ALFONSO SPINOLA",
                "Municipio": "SANTA CRUZ DE TENERIFE",
                "Direccion": "BARRANCO TAHODIO, 4. BARRIO DE LA ALEGRIA",
                "Telefono": "922-478795",
                "CorreoElectronico": "38005406@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 14
            },
            {
                "Codigo": "38001619",
                "Denominacion": "CEIP ALFONSO X EL SABIO",
                "Municipio": "GÜÍMAR",
                "Direccion": "C/ POETA ARÍSTIDES HDEZ. MORA",
                "Telefono": "922-760290",
                "CorreoElectronico": "38001619@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Sureste",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 28
            },
            {
                "Codigo": "35010300",
                "Denominacion": "CEIP ALFREDO KRAUS",
                "Municipio": "LAS PALMAS DE GRAN CANARIA",
                "Direccion": "C/ VENTURA DORESTE, S/N - LOMO LOS FRAILES",
                "Telefono": "928-599301",
                "CorreoElectronico": "35010300@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 24
            },
            {
                "Codigo": "35014494",
                "Denominacion": "CEIP ALISIOS",
                "Municipio": "LAS PALMAS DE GRAN CANARIA",
                "Direccion": "C/ DOCTOR SVENTENIUS, 1",
                "Telefono": "928-577838",
                "CorreoElectronico": "35014494@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 22
            },
            {
                "Codigo": "38001528",
                "Denominacion": "CEIP ALMÁCIGO",
                "Municipio": "GUÍA DE ISORA",
                "Direccion": "AVDA. LA CONSTITUCIÓN, 6",
                "Telefono": "922-922070 y 922-922071",
                "CorreoElectronico": "38001528@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Suroeste",
                "aeropuerto": "TFS",
                "distancia_aeropuerto_km": 35
            },
            {
                "Codigo": "38007476",
                "Denominacion": "CEIP ALOJERA",
                "Municipio": "VALLEHERMOSO",
                "Direccion": "LA PLAZA, S/N",
                "Telefono": "922-922028",
                "CorreoElectronico": "38007476@gobiernodecanarias.org",
                "Isla": "LA GOMERA",
                "Naturaleza": "Público",
                "Zona": "Norte",
                "aeropuerto": "GMZ",
                "distancia_aeropuerto_km": 40
            },
            {
                "Codigo": "38002156",
                "Denominacion": "CEIP ALONSO NAVA Y GRIMÓN",
                "Municipio": "SAN CRISTÓBAL DE LA LAGUNA",
                "Direccion": "C/ DOMINGO GONZÁLEZ PÉREZ, 9",
                "Telefono": "922-478561",
                "CorreoElectronico": "38002156@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 3
            },
            {
                "Codigo": "35004348",
                "Denominacion": "CEIP AMELIA VEGA MONZÓN",
                "Municipio": "TELDE",
                "Direccion": "CTRA. DE LOS PICOS, 37. EL EJIDO",
                "Telefono": "928-693982",
                "CorreoElectronico": "35004348@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Este",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 10
            },
            {
                "Codigo": "35006084",
                "Denominacion": "CEIP AMPUYENTA",
                "Municipio": "PUERTO DEL ROSARIO",
                "Direccion": "LA AMPUYENTA",
                "Telefono": "928-393040",
                "CorreoElectronico": "35006084@gobiernodecanarias.org",
                "Isla": "FUERTEVENTURA",
                "Naturaleza": "Público",
                "Zona": "Centro",
                "aeropuerto": "FUE",
                "distancia_aeropuerto_km": 20
            },
            {
                "Codigo": "35000045",
                "Denominacion": "CEIP ANA BETANCOR ESTUPIÑÁN",
                "Municipio": "AGAETE",
                "Direccion": "CAMINO LOS ROMEROS, 54",
                "Telefono": "928-306366",
                "CorreoElectronico": "35000045@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Noroeste",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 57
            },
            {
                "Codigo": "38002193",
                "Denominacion": "CEIP ÁNGELES BERMEJO",
                "Municipio": "SAN CRISTÓBAL DE LA LAGUNA",
                "Direccion": "C/ EL COLEGIO, 31",
                "Telefono": "922-474956",
                "CorreoElectronico": "38002193@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 3
            },
            {
                "Codigo": "38004748",
                "Denominacion": "CEIP ÁNGEL GUIMERÁ",
                "Municipio": "SAN JUAN DE LA RAMBLA",
                "Direccion": "C/ OBISPO PÉREZ CÁCERES, 10",
                "Telefono": "922-360120",
                "CorreoElectronico": "38004748@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Noroeste",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 35
            },
            {
                "Codigo": "38005054",
                "Denominacion": "CEIP ANSELMO PÉREZ BRITO",
                "Municipio": "SANTA CRUZ DE LA PALMA",
                "Direccion": "C/ EL GALEÓN",
                "Telefono": "922-592281",
                "CorreoElectronico": "38005054@gobiernodecanarias.org",
                "Isla": "LA PALMA",
                "Naturaleza": "Público",
                "Zona": "Este",
                "aeropuerto": "SPC",
                "distancia_aeropuerto_km": 10
            },
            {
                "Codigo": "35003952",
                "Denominacion": "CEIP ANSITE",
                "Municipio": "SANTA LUCÍA DE TIRAJANA",
                "Direccion": "C/ ANDAMANA, 17",
                "Telefono": "928-750900",
                "CorreoElectronico": "35003952@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Sureste",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 16
            },
            {
                "Codigo": "38001036",
                "Denominacion": "CEIP ANTONIO DEL VALLE MENÉNDEZ",
                "Municipio": "GARACHICO",
                "Direccion": "EL LAMERO, 1",
                "Telefono": "922-476908",
                "CorreoElectronico": "38001036@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Noroeste",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 50
            },
            {
                "Codigo": "35000598",
                "Denominacion": "CEIP ANTONIO PADRÓN",
                "Municipio": "GÁLDAR",
                "Direccion": "C/ DRAGO, 17",
                "Telefono": "928-303098",
                "CorreoElectronico": "35000598@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Noroeste",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 50
            },
            {
                "Codigo": "35006199",
                "Denominacion": "CEIP ANTONIO ZEROLO",
                "Municipio": "ARRECIFE",
                "Direccion": "C/ GUENIA, 3",
                "Telefono": "928-499566",
                "CorreoElectronico": "35006199@gobiernodecanarias.org",
                "Isla": "LANZAROTE",
                "Naturaleza": "Público",
                "Zona": "Centro",
                "aeropuerto": "ACE",
                "distancia_aeropuerto_km": 7
            },
            {
                "Codigo": "35014032",
                "Denominacion": "CEIP ANTOÑITO EL FARERO",
                "Municipio": "LA OLIVA",
                "Direccion": "AVDA. JUAN CARLOS I",
                "Telefono": "928-478525",
                "CorreoElectronico": "35014032@gobiernodecanarias.org",
                "Isla": "FUERTEVENTURA",
                "Naturaleza": "Público",
                "Zona": "Norte",
                "aeropuerto": "FUE",
                "distancia_aeropuerto_km": 38
            },
            {
                "Codigo": "38009746",
                "Denominacion": "CEIP APONTE",
                "Municipio": "GUÍA DE ISORA",
                "Direccion": "CAMINO DE APONTE, 8",
                "Telefono": "922-477710",
                "CorreoElectronico": "38009746@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Suroeste",
                "aeropuerto": "TFS",
                "distancia_aeropuerto_km": 35
            },
            {
                "Codigo": "35002893",
                "Denominacion": "CEIP ARAGÓN",
                "Municipio": "LAS PALMAS DE GRAN CANARIA",
                "Direccion": "C/ ALEXIS CARREL, 45",
                "Telefono": "928-599190",
                "CorreoElectronico": "35002893@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 24
            },
            {
                "Codigo": "38000792",
                "Denominacion": "CEIP ARAYA",
                "Municipio": "CANDELARIA",
                "Direccion": "C/ SIMÓN HIGUERA, S/N",
                "Telefono": "922-592605",
                "CorreoElectronico": "38000792@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Sureste",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 20
            },
            {
                "Codigo": "38003860",
                "Denominacion": "CEIP ARCO IRIS",
                "Municipio": "EL PASO",
                "Direccion": "C/ TENDIÑA, 38-B",
                "Telefono": "922-478814",
                "CorreoElectronico": "38003860@gobiernodecanarias.org",
                "Isla": "LA PALMA",
                "Naturaleza": "Público",
                "Zona": "Oeste",
                "aeropuerto": "SPC",
                "distancia_aeropuerto_km": 26
            },
            {
                "Codigo": "38006782",
                "Denominacion": "CEIP AREGUME",
                "Municipio": "LOS SILOS",
                "Direccion": "CAMINO EL ESPARRAGAL, 2",
                "Telefono": "922-474895",
                "CorreoElectronico": "38006782@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Noroeste",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 55
            },
            {
                "Codigo": "35008071",
                "Denominacion": "CEIP ARGANA ALTA",
                "Municipio": "ARRECIFE",
                "Direccion": "C/ CAMPOAMOR, 14",
                "Telefono": "928-455036",
                "CorreoElectronico": "35008071@gobiernodecanarias.org",
                "Isla": "LANZAROTE",
                "Naturaleza": "Público",
                "Zona": "Centro",
                "aeropuerto": "ACE",
                "distancia_aeropuerto_km": 7
            },
            {
                "Codigo": "35006023",
                "Denominacion": "CEIP ARÍÑEZ",
                "Municipio": "VEGA DE SAN MATEO",
                "Direccion": "ARÍÑEZ, 8",
                "Telefono": "928-303135",
                "CorreoElectronico": "35006023@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Centro",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 35
            },
            {
                "Codigo": "38000068",
                "Denominacion": "CEIP ARMEÑIME",
                "Municipio": "ADEJE",
                "Direccion": "C/ LAS ROSAS, S/N",
                "Telefono": "922-741153",
                "CorreoElectronico": "38000068@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Suroeste",
                "aeropuerto": "TFS",
                "distancia_aeropuerto_km": 29
            },
            {
                "Codigo": "35009000",
                "Denominacion": "CEIP ARTEMI SEMIDÁN",
                "Municipio": "MOGÁN",
                "Direccion": "C/TAMARÁN, Nº59",
                "Telefono": "928-599197",
                "CorreoElectronico": "35009000@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Suroeste",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 52
            },
            {
                "Codigo": "35000331",
                "Denominacion": "CEIP ARTENARA",
                "Municipio": "ARTENARA",
                "Direccion": "C/ LOS COFRITOS, S/N",
                "Telefono": "928-393023",
                "CorreoElectronico": "35000331@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Noroeste",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 50
            },
            {
                "Codigo": "35015590",
                "Denominacion": "CEIP ARUCAS",
                "Municipio": "ARUCAS",
                "Direccion": "CARRETERA EL LOMO, 17",
                "Telefono": "928-577894",
                "CorreoElectronico": "35015590@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Norte",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 35
            },
            {
                "Codigo": "35001086",
                "Denominacion": "CEIP ASTURIAS",
                "Municipio": "LAS PALMAS DE GRAN CANARIA",
                "Direccion": "BARRANCO DE TAURO, 2A CASA AYALA",
                "Telefono": "928-478927",
                "CorreoElectronico": "35001086@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 24
            },
            {
                "Codigo": "38009941",
                "Denominacion": "CEIP ATALAYA",
                "Municipio": "LA MATANZA DE ACENTEJO",
                "Direccion": "C/ LA CRUZ, S/N",
                "Telefono": "922-479422",
                "CorreoElectronico": "38009941@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Norte",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 15
            },
            {
                "Codigo": "35008706",
                "Denominacion": "CEIP ATLÁNTIDA",
                "Municipio": "LAS PALMAS DE GRAN CANARIA",
                "Direccion": "AVDA. PARQUE CENTRAL,17",
                "Telefono": "928-599160",
                "CorreoElectronico": "35008706@gobiernodecanarias.org",
                "Isla": "GRAN CANARIA",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "LPA",
                "distancia_aeropuerto_km": 24
            },
            {
                "Codigo": "38000101",
                "Denominacion": "CEIP ÁUREA MIRANDA GONZÁLEZ",
                "Municipio": "AGULO",
                "Direccion": "C/ ALAMEDA, S/N",
                "Telefono": "922-922030",
                "CorreoElectronico": "38000101@gobiernodecanarias.org",
                "Isla": "LA GOMERA",
                "Naturaleza": "Público",
                "Zona": "Norte",
                "aeropuerto": "GMZ",
                "distancia_aeropuerto_km": 15
            },
            {
                "Codigo": "38006514",
                "Denominacion": "CEIP AURELIO EMILIO ACOSTA FERNÁNDEZ",
                "Municipio": "SANTIAGO DEL TEIDE",
                "Direccion": "C/ SAN ISIDRO, 17",
                "Telefono": "922-592498",
                "CorreoElectronico": "38006514@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Suroeste",
                "aeropuerto": "TFS",
                "distancia_aeropuerto_km": 40
            },
            {
                "Codigo": "38009783",
                "Denominacion": "CEIP AYATIMAS",
                "Municipio": "SAN CRISTÓBAL DE LA LAGUNA",
                "Direccion": "C/ CALVARIO, 46",
                "Telefono": "922-476975",
                "CorreoElectronico": "38009783@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Metropolitana",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 3
            },
            {
                "Codigo": "38007658",
                "Denominacion": "CEIP BAJOS Y TAGORO",
                "Municipio": "LA VICTORIA DE ACENTEJO",
                "Direccion": "C/ LOS BAJOS, 84",
                "Telefono": "822-171553",
                "CorreoElectronico": "38007658@gobiernodecanarias.org",
                "Isla": "TENERIFE",
                "Naturaleza": "Público",
                "Zona": "Norte",
                "aeropuerto": "TFN",
                "distancia_aeropuerto_km": 15
            },
            {
                "Codigo": "38008584",
                "Denominacion": "CEIP BALDOMERO BETHENCOURT FRANCÉS",
                "Municipio": "ICOD DE LOS VINOS",
                "Direccion": "C/ ANTONIO PÉREZ DÍAZ, 20",
                "Telefono": "922-
